import { r as _0x56902a, j as _0x5b49d1, A as _0x2115cf, x as _0x5afe5f, ag as _0x4a9ad2 } from "./vendor-6c45b22f.js";
import _0x5811d4 from "./store-cb919828.js";
import { n as _0x46f12e, s as _0xd42f44, u as _0x5809d1 } from "./index-d5aaa08b.js";
import { m as _0x33b88a, b as _0x5e294f, a as _0x3a0fb9, d as _0x58aacd, c as _0x2465ae } from "./actions-c0279434.js";
import { C as _0x593fe2 } from "./tooltip-cb871d8a.js";
import { d as _0x3f1fb6 } from "./dev-data-afd59de4.js";
import { F as _0x4b1758 } from "./input-c6588ceb.js";
import { S as _0x22d92b } from "./simple-form-6b6335d8.js";
import { I as _0x25cdf9 } from "./icon-7f5cdae2.js";
import { b as _0x58f72d } from "./date-1e39c206.js";
import { j as _0x15f6c0 } from "./actions-354e5926.js";
import { p as _0x2f8ebb, I as _0xcb3226 } from "./image-container-d39217d7.js";
import { t as _0x1501bf } from "./notifications-c44d34f0.js";
import { g as _0x479da7 } from "./actions-6c142f68.js";
import "./commonjsHelpers-c5dac66b.js";
import "./vite-a4975f27.js";
import "./bundle-e94787e2.js";
import "./store-779dab40.js";
import "./store-50ddf3e0.js";
import "./translations-7705db3f.js";
import "./text-f7ee3e03.js";
import "./format-10690d6f.js";
import "./styles-61014012.js";
import "./index-ae383549.js";
import "./store-52c39051.js";
import "./misc-13f33aa2.js";
import "./actions-d7dccfad.js";
import "./store-75fb65a1.js";
const SvgPurchaseIcon = _0x32ad63 => _0x56902a.createElement("svg", {
  width: 20,
  height: 20,
  viewBox: "0 0 20 20",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0x32ad63
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M1.2602 0.0489043C1.17022 0.0922229 0.134238 1.30866 0.0482741 1.47197C-0.0160914 1.59423 -0.0160914 10.71 0.0482741 10.8322C0.142674 11.0116 1.17365 12.2129 1.27137 12.2574C1.33597 12.2869 1.58328 12.3042 1.9385 12.3042H2.50299V13.939C2.50299 15.5736 2.50299 15.5738 2.59165 15.7065C2.76178 15.9612 3.07939 16.0425 3.35403 15.9016C3.43371 15.8607 4.8335 15.0346 6.46463 14.0657L9.43032 12.3042H11.7257C13.3702 12.3042 14.0489 12.2915 14.1195 12.2594C14.2221 12.2126 15.2346 11.0225 15.3342 10.8316C15.3833 10.7375 15.3913 10.0853 15.3915 6.1644C15.3916 3.456 15.377 1.56791 15.3555 1.51127C15.3042 1.37643 14.3195 0.19382 14.1702 0.0878871L14.0464 0L7.69862 0.00265614C3.11059 0.00457013 1.3257 0.0173821 1.2602 0.0489043ZM7.98241 2.60494C8.19562 2.71239 8.24401 2.85731 8.24417 3.38854L8.24432 3.86703L8.80088 3.86711C9.47172 3.86715 9.58201 3.90535 9.72113 4.18573C9.79069 4.32588 9.80522 4.40104 9.78429 4.51256C9.74867 4.70251 9.56284 4.90977 9.38353 4.95957C9.30272 4.98203 8.78065 4.99953 8.18574 4.99972C7.20959 5.00008 7.12191 5.00574 7.00638 5.0762C6.85734 5.1671 6.77028 5.29108 6.73634 5.4608L6.71135 5.58572H8.01229C9.22879 5.58572 9.32362 5.59072 9.47289 5.66302C9.70465 5.7752 9.7803 5.92949 9.7994 6.32889C9.83249 7.02144 9.66946 7.54533 9.30588 7.91472C9.08517 8.13897 8.73011 8.33943 8.4455 8.40049L8.24432 8.44365V8.91109C8.24432 9.43314 8.20991 9.54474 8.00377 9.69153C7.85001 9.80106 7.55966 9.81184 7.40976 9.7136C7.20776 9.58122 7.17175 9.4747 7.15073 8.94695L7.13121 8.4567L6.53825 8.43717C6.0184 8.42006 5.93174 8.40767 5.83523 8.33674C5.50578 8.0946 5.52488 7.66743 5.87682 7.40447C5.97853 7.3285 6.05043 7.32283 7.14566 7.3044C8.16832 7.28721 8.31919 7.27666 8.41164 7.21596C8.54346 7.12944 8.62661 7.0041 8.65871 6.8434L8.68371 6.71848H7.36887C6.11862 6.71848 6.04629 6.71454 5.89643 6.63806C5.66513 6.52005 5.59042 6.32944 5.58933 5.85469C5.58823 5.37635 5.6369 5.11995 5.78699 4.81309C6.00407 4.36924 6.469 4.00679 6.95494 3.90254L7.15073 3.86055V3.39311C7.15073 2.79087 7.2053 2.67091 7.53119 2.55666C7.68636 2.50224 7.80361 2.51482 7.98241 2.60494ZM16.5243 8.05566C16.5243 10.9494 16.522 10.9884 16.3283 11.3683C16.2347 11.5517 15.1584 12.8531 14.9487 13.0364C14.8689 13.106 14.7295 13.201 14.6388 13.2474C14.2787 13.4315 14.2135 13.436 11.8995 13.4365L9.71574 13.437L8.15984 14.3606C7.30411 14.8686 6.60394 15.2977 6.60394 15.314C6.60394 15.3832 7.22311 16.0403 7.34719 16.1028C7.4708 16.1651 7.6539 16.1711 9.42993 16.1712L11.3771 16.1712L14.3706 18.041C16.017 19.0694 17.4025 19.9307 17.4494 19.955C17.5941 20.03 17.8658 20.0085 18.0125 19.9105C18.2837 19.7293 18.2818 19.7441 18.2818 17.8606L18.2819 16.1712H18.4714C18.8077 16.1712 18.8743 16.1244 19.4007 15.5179C19.6713 15.2061 19.9168 14.9048 19.9463 14.8483C19.9907 14.7631 19.9999 14.0625 20 10.7613C20.0001 6.9314 19.9973 6.77254 19.9268 6.65989C19.7919 6.44428 18.984 5.53052 18.8572 5.45021C18.7403 5.37611 18.6591 5.3701 17.6282 5.35889L16.5243 5.3469V8.05566Z",
  fill: "white"
}));
const purchaseIcon = "" + new URL("purchase-icon-255a6bb7.svg", import.meta.url).href + "";
const SvgTwatIcon = _0x4c722e => _0x56902a.createElement("svg", {
  width: 18,
  height: 15,
  viewBox: "0 0 18 15",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0x4c722e
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M0.174637 0.449825C0.650196 1.38756 1.30171 2.1232 2.1483 2.67816C2.4102 2.84987 2.62419 3.00512 2.62386 3.02321C2.62353 3.0413 2.58121 3.18945 2.52982 3.35242C2.41749 3.70874 2.41335 3.87348 2.50866 4.19259C2.64775 4.65835 3.20935 5.08928 3.98805 5.32775C4.18201 5.38712 4.36717 5.45509 4.39947 5.47879C4.49728 5.55046 4.46615 5.67243 4.31305 5.81721C3.94804 6.16245 3.19473 7.49736 3.27786 7.65173C3.30805 7.70783 3.95692 7.94797 5.32426 8.40915C6.42547 8.78062 7.32647 9.10071 7.32647 9.12053C7.32647 9.14035 7.15188 9.29453 6.93855 9.4632C6.67228 9.67366 6.31474 9.88539 5.79832 10.1385C4.57862 10.7362 3.27457 11.1615 1.01098 11.6998L0.878619 11.7313L1.16709 12.2789C1.57513 13.0537 2.19024 13.9538 2.5893 14.3601C2.93447 14.7116 3.36494 14.9992 3.54696 15C3.68331 15.0006 4.57575 14.0708 4.78335 13.7119C5.09335 13.1758 5.05616 13.2114 5.27353 13.2436C5.89151 13.3351 6.37262 13.3646 7.25749 13.3654C8.33805 13.3663 9.0221 13.2982 9.90885 13.1012C12.7085 12.4794 14.4559 10.7696 14.9878 8.13161C15.1475 7.33968 15.427 6.94124 16.0181 6.6628C16.3266 6.51751 16.3421 6.51526 17.1654 6.49927C17.6335 6.49016 18 6.46407 18 6.43981C18 6.34552 17.7147 5.77906 17.5043 5.45542C16.764 4.31694 15.7125 3.8948 14.5213 4.25785C14.0808 4.39207 13.3861 4.76045 12.9095 5.11256C12.6829 5.27992 12.4713 5.41666 12.4393 5.41638C12.4073 5.4161 11.6563 4.82052 10.7704 4.09283C9.86917 3.35246 8.989 2.66867 8.77205 2.5403C7.13984 1.57437 3.6724 0.506905 0.814202 0.0904662C-0.161462 -0.0516972 -0.0978442 -0.0874603 0.174637 0.449825ZM15.4464 5.11939C15.4839 5.21653 15.4059 5.34177 15.2944 5.36355C15.174 5.38707 15.075 5.24182 15.1353 5.12995C15.1934 5.02191 15.406 5.01472 15.4464 5.11939Z",
  fill: "white"
}));
const twatIcon = "" + new URL("twat-icon-eb8215c1.svg", import.meta.url).href + "";
const SvgShieldIcon = _0xba51c7 => _0x56902a.createElement("svg", {
  width: 13,
  height: 16,
  viewBox: "0 0 13 16",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0xba51c7
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M3.33859 0.946841C1.67433 1.46656 0.267528 1.91931 0.212368 1.95291C0.157238 1.98654 0.086912 2.06305 0.0560671 2.12293C0.00229171 2.22741 4.7051e-06 2.3813 4.7051e-06 5.89275C4.7051e-06 9.86726 -0.00333554 9.77834 0.167981 10.3486C0.270386 10.6895 0.524458 11.2298 0.738597 11.5621C1.68278 13.0274 3.66368 14.6266 6.02616 15.8308C6.4687 16.0564 6.5313 16.0564 6.97384 15.8308C9.33632 14.6266 11.3172 13.0274 12.2614 11.5621C12.4755 11.2298 12.7296 10.6895 12.832 10.3486C13.0033 9.77834 13 9.86726 13 5.89275C13 2.39127 12.9976 2.2271 12.9444 2.12293C12.9137 2.06305 12.8359 1.98375 12.7713 1.94672C12.5912 1.84342 6.63361 -0.00218584 6.48742 1.94348e-06C6.41773 0.00106458 5.05586 0.410554 3.33859 0.946841Z",
  fill: "black",
  fillOpacity: 0.4
}));
const shieldIcon = "" + new URL("shield-icon-59c58599.svg", import.meta.url).href + "";
const SvgUserTimes = _0x1ec0c6 => _0x56902a.createElement("svg", {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 640 512",
  ..._0x1ec0c6
}, _0x56902a.createElement("path", {
  d: "M589.6 240l45.6-45.6c6.3-6.3 6.3-16.5 0-22.8l-22.8-22.8c-6.3-6.3-16.5-6.3-22.8 0L544 194.4l-45.6-45.6c-6.3-6.3-16.5-6.3-22.8 0l-22.8 22.8c-6.3 6.3-6.3 16.5 0 22.8l45.6 45.6-45.6 45.6c-6.3 6.3-6.3 16.5 0 22.8l22.8 22.8c6.3 6.3 16.5 6.3 22.8 0l45.6-45.6 45.6 45.6c6.3 6.3 16.5 6.3 22.8 0l22.8-22.8c6.3-6.3 6.3-16.5 0-22.8L589.6 240zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"
}));
const userTimes = "" + new URL("user-times-9949396e.svg", import.meta.url).href + "";
const getBlockedUsers = async () => {
  const _0x2dad2b = await _0x46f12e("np-ui:getBlockedTwatterUsers", {}, {
    returnData: {
      123: {
        name: "Franny"
      }
    }
  });
  const _0x25a38a = [];
  Object.keys(_0x2dad2b.data).forEach(_0x600490 => {
    _0x25a38a.push({
      id: parseInt(_0x600490),
      name: _0x2dad2b.data[_0x600490].name
    });
  });
  return _0x25a38a;
};
const isUserBlocked = _0x4522b4 => {
  const _0xa1dcf9 = _0xd42f44.getState()[_0x5811d4.key];
  return _0xa1dcf9.blockedUsers.find(_0x1247ed => _0x1247ed.id === Number(_0x4522b4.character.id));
};
const getMessageEventCodes = _0x71e7e4 => {
  const _0x38396a = _0x71e7e4.match(/\{\{c:([a-zA-Z0-9]{6,})\}\}/g) || [];
  let _0x1a67a5 = _0x71e7e4;
  _0x38396a.forEach(_0x483b05 => _0x1a67a5 = _0x1a67a5.replace(_0x483b05, ""));
  const _0x12f505 = _0x38396a.map(_0x1cd49d => _0x1cd49d.replace("{{c:", "").replace("}}", ""));
  return {
    codes: _0x12f505,
    message: _0x1a67a5
  };
};
const getTwatterPosts = async () => {
  const _0x40060b = await _0x46f12e("np-ui:getTwats", {}, {
    returnData: _0x3f1fb6.getTwats()
  });
  let _0x5037e8 = [];
  if (_0x40060b.meta.ok) {
    _0x5037e8 = _0x40060b.data.sort((_0x4a0265, _0x5d953f) => {
      if (_0x4a0265.timestamp < _0x5d953f.timestamp) {
        return 1;
      } else if (_0x5d953f.timestamp < _0x4a0265.timestamp) {
        return -1;
      }
      return 0;
    });
  }
  return _0x5037e8;
};
const getTwatterBluStatus = async () => {
  const _0x10b29a = await _0x46f12e("np-ui:phone:getTwatterBlue", {}, {
    returnData: false
  });
  return _0x10b29a?.data ?? false;
};
const TwatterBlockedUsers = _0x374272 => {
  const [_0x3b5daa, _0x44be81] = _0x5809d1(_0x5811d4.key);
  return _0x5b49d1.jsx(_0x22d92b, {
    defaultValues: {
      user: _0x3b5daa.blockedUsers[0].id
    },
    elements: [{
      name: "user",
      render: ({
        onChange: _0x526b40,
        value: _0x5b9681
      }) => {
        return _0x5b49d1.jsx(_0x4b1758.Select, {
          onChange: _0x526b40,
          value: _0x5b9681,
          label: "User",
          items: _0x3b5daa.blockedUsers
        });
      }
    }],
    onCancel: () => _0x33b88a(false),
    onSubmit: async ({
      user: _0x5be5d9
    }) => {
      _0x5e294f();
      if (_0x5be5d9) {
        await _0x46f12e("np-ui:unblockTwatterUser", {
          user: _0x5be5d9
        });
        const _0x74ba8e = await getBlockedUsers();
        _0x44be81({
          blockedUsers: _0x74ba8e
        });
      }
      _0x33b88a();
    }
  });
};
const index$5 = "";
const TwatterHeader = () => {
  const [_0x1d25a0, _0x43c0a2] = _0x5809d1(_0x5811d4.key);
  const _0x234c00 = () => {
    _0x43c0a2({
      showNewPostModal: true
    });
  };
  const _0x1a49d8 = () => {
    _0x3a0fb9(_0x5b49d1.jsx(TwatterBlockedUsers, {}));
  };
  const _0x4b5d45 = () => {
    _0x58aacd(async () => {
      _0x5e294f();
      const _0x2efeeb = await _0x46f12e("np-ui:phone:purchaseBlue", {}, {
        returnData: true
      });
      if (!_0x2efeeb.data) {
        return _0x2465ae(_0x2efeeb.meta.message, true);
      }
      _0x43c0a2({
        hasBlue: true
      });
      _0x33b88a();
    }, "$80 - All Blu subscribers get a blue checkmark");
  };
  const _0x2f2802 = () => {
    _0x58aacd(async () => {
      _0x5e294f();
      const _0x564c71 = await _0x46f12e("np-ui:phone:cancelBlue", {});
      if (!_0x564c71.data) {
        return _0x2465ae(_0x564c71.meta.message, true);
      }
      _0x43c0a2({
        hasBlue: false
      });
      _0x33b88a();
    }, "Are you sure you want to give up your checkmark?");
  };
  return _0x5b49d1.jsxs("div", {
    className: "twatter-header",
    children: [_0x5b49d1.jsx("h1", {
      className: "title",
      children: "Twatter"
    }), _0x5b49d1.jsxs("div", {
      className: "actions",
      children: [_0x1d25a0.blockedUsers.length > 0 && _0x5b49d1.jsx(_0x593fe2, {
        title: "Manage blocked users",
        children: _0x5b49d1.jsx("button", {
          className: "btn red-btn",
          onClick: _0x1a49d8,
          children: _0x5b49d1.jsx(SvgShieldIcon, {})
        })
      }), !_0x1d25a0.hasBlue && _0x5b49d1.jsx(_0x593fe2, {
        title: "Purchase Blu",
        children: _0x5b49d1.jsx("button", {
          className: "btn orange-btn",
          onClick: _0x4b5d45,
          children: _0x5b49d1.jsx(SvgPurchaseIcon, {})
        })
      }), _0x1d25a0.hasBlue && _0x5b49d1.jsx(_0x593fe2, {
        title: "Cancel Blu",
        children: _0x5b49d1.jsx("button", {
          className: "btn orange-btn",
          onClick: _0x2f2802,
          children: _0x5b49d1.jsx(SvgUserTimes, {})
        })
      }), _0x5b49d1.jsx(_0x593fe2, {
        title: "Post",
        children: _0x5b49d1.jsx("button", {
          className: "btn blue-btn",
          onClick: _0x234c00,
          children: _0x5b49d1.jsx(SvgTwatIcon, {})
        })
      })]
    })]
  });
};
const index$4 = "";
const TwatterSearch = _0x801ed5 => {
  return _0x5b49d1.jsxs("div", {
    className: "twatter-search",
    children: [_0x5b49d1.jsx("input", {
      placeholder: "Search",
      value: _0x801ed5.value,
      onChange: _0x1a5744 => _0x801ed5.onChange(_0x1a5744.target.value)
    }), _0x5b49d1.jsx(_0x25cdf9, {
      className: "icon",
      icon: "search",
      size: "lg"
    })]
  });
};
const SvgRetweetIcon = _0x4a7dce => _0x56902a.createElement("svg", {
  width: 14,
  height: 13,
  viewBox: "0 0 14 13",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0x4a7dce
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M10.974 0.0463802C10.9214 0.0722122 10.8492 0.133948 10.8136 0.18358C10.753 0.268042 10.7483 0.309722 10.7399 0.831645L10.7308 1.38944L7.35566 1.3987L3.98049 1.40793L3.65957 1.48618C2.73023 1.71278 2.03344 2.09434 1.39622 2.72554C1.03852 3.07987 0.848068 3.31793 0.628329 3.68547C0.228878 4.35354 -0.0231861 5.26828 0.00272048 5.95591C0.0110351 6.17649 0.0243385 6.23997 0.0778728 6.31468C0.208193 6.49643 0.231124 6.49965 1.39858 6.49965C2.31249 6.49965 2.46804 6.49333 2.55443 6.45255C2.72171 6.37357 2.77262 6.27024 2.81565 5.92238C2.8829 5.37863 3.01611 5.09358 3.36745 4.74157C3.5413 4.56736 3.65738 4.47971 3.82006 4.39974C4.26651 4.18035 3.99831 4.19582 7.54701 4.18511L10.7343 4.1755V4.70189C10.7343 5.12745 10.7434 5.24732 10.7816 5.32761C10.871 5.51493 11.0857 5.60378 11.3378 5.55766C11.4358 5.53975 11.5954 5.39204 12.6812 4.3145C13.3589 3.64197 13.9332 3.04998 13.9576 2.99901C14.014 2.88062 14.0142 2.68862 13.9578 2.57057C13.8991 2.44742 11.5008 0.0677715 11.3961 0.0287332C11.2769 -0.0157037 11.0843 -0.00766389 10.974 0.0463802ZM11.4408 6.54792C11.2773 6.62809 11.2271 6.73182 11.1843 7.0769C11.1176 7.6165 10.9718 7.92489 10.6204 8.27016C10.3831 8.50323 10.1754 8.62871 9.84447 8.73874L9.64025 8.80666L6.45299 8.81525L3.26572 8.82381V8.29742C3.26572 7.87186 3.25665 7.75199 3.21837 7.6717C3.12901 7.48438 2.91426 7.39553 2.6622 7.44165C2.56417 7.45956 2.40459 7.60727 1.31879 8.68481C0.641107 9.35734 0.0667575 9.94933 0.0424264 10.0003C-0.0141421 10.1189 -0.0141421 10.3107 0.0424264 10.4293C0.0667575 10.4803 0.641107 11.0723 1.31879 11.7448C2.40459 12.8224 2.56417 12.9701 2.6622 12.988C2.91426 13.0341 3.12901 12.9453 3.21837 12.7579C3.25662 12.6777 3.26572 12.558 3.26572 12.1343V11.6099L6.64262 11.6006L10.0195 11.5914L10.3404 11.5131C10.7759 11.407 11.0419 11.3116 11.408 11.1306C12.3277 10.6759 13.0652 9.94251 13.5202 9.03044C13.715 8.64009 13.7999 8.4024 13.9015 7.96424C13.9684 7.67565 13.9824 7.54611 13.9846 7.19625C13.987 6.80514 13.9826 6.76897 13.9221 6.68463C13.7917 6.50267 13.7695 6.4996 12.597 6.50032C11.68 6.50087 11.5236 6.50732 11.4408 6.54792Z",
  fill: "black",
  fillOpacity: 0.27
}));
const retweetIcon = "" + new URL("retweet-icon-b06c3634.svg", import.meta.url).href + "";
const SvgFlagIcon = _0x2e2ab4 => _0x56902a.createElement("svg", {
  width: 12,
  height: 13,
  viewBox: "0 0 12 13",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0x2e2ab4
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M0 6.5V13H0.399971H0.799941V10.6301V8.26028L1.09992 8.13234C1.92191 7.78177 2.79278 7.62536 3.56025 7.69044C4.36144 7.75839 4.83549 7.90243 5.82624 8.37901C6.22344 8.57007 6.6873 8.77284 6.86096 8.83132C8.16503 9.27045 9.38734 9.27573 10.6946 8.84787C10.9831 8.75347 11.8338 8.3701 11.9396 8.28684L12 8.23926L11.9929 4.36114L11.9858 0.483057L11.6791 0.650939C10.4309 1.33433 9.41038 1.58389 8.32502 1.47116C7.59798 1.39562 7.12588 1.24462 6.14622 0.774262C5.07928 0.262006 4.49204 0.0886641 3.59611 0.0215313C2.77169 -0.0402695 1.83653 0.108367 1.01158 0.432301C0.9058 0.47384 0.814927 0.507812 0.809594 0.507812C0.804288 0.507812 0.799941 0.393555 0.799941 0.253906V0H0.399971H0V6.5Z",
  fill: "black",
  fillOpacity: 0.27
}));
const flagIcon = "" + new URL("flag-icon-caa3c390.svg", import.meta.url).href + "";
const SvgReplyIcon = _0x352a5f => _0x56902a.createElement("svg", {
  width: 12,
  height: 12,
  viewBox: "0 0 12 12",
  fill: "none",
  xmlns: "http://www.w3.org/2000/svg",
  ..._0x352a5f
}, _0x56902a.createElement("path", {
  fillRule: "evenodd",
  clipRule: "evenodd",
  d: "M6.35604 1.41394V2.8279L6.06856 2.85652C4.77415 2.98548 3.521 3.4938 2.50734 4.3011C2.22799 4.5236 1.6331 5.12262 1.42804 5.38794C0.77386 6.23432 0.323869 7.20075 0.126036 8.18421C0.00639847 8.77883 -0.00540575 9.0047 0.0015876 10.5622L0.0080412 12L0.439235 10.9956C0.676399 10.4431 0.922997 9.89097 0.987228 9.76857C1.45487 8.87764 2.21869 8.03708 3.09403 7.45009C3.98029 6.85583 5.08937 6.46961 6.16224 6.38167L6.35566 6.36581L6.36171 7.78642L6.36777 9.20701L9.18388 6.90905C10.7327 5.64518 12 4.60231 12 4.59156C12 4.57324 6.38894 0 6.36645 0C6.36073 0 6.35604 0.636269 6.35604 1.41394Z",
  fill: "black",
  fillOpacity: 0.27
}));
const replyIcon = "" + new URL("reply-icon-487f1148.svg", import.meta.url).href + "";
const index$3 = "";
const TwatterPost = ({
  info: _0x308f5e
}) => {
  const [_0x40dbc3, _0x4a5f50] = _0x5809d1(_0x5811d4.key);
  const _0x785882 = "@" + (_0x308f5e.character.first_name + " " + _0x308f5e.character.last_name).replace(/\s+/g, "_");
  const {
    images: _0x283516,
    message: _0x1e4473
  } = _0x2f8ebb(_0x308f5e.text);
  const {
    codes: _0x109c9f,
    message: _0x563e6f
  } = getMessageEventCodes(_0x1e4473);
  const _0xafbd93 = () => {
    _0x58aacd(async () => {
      _0x5e294f();
      await _0x46f12e("np-ui:twatReport", {
        twat: _0x308f5e
      });
      _0x33b88a();
    }, "Do you really want to report this twat?");
  };
  const _0x308993 = () => {
    _0x4a5f50({
      showNewPostModal: true,
      newPostText: _0x785882 + " "
    });
  };
  const _0x376969 = () => {
    const _0x3838b7 = _0x308f5e.text.indexOf("RT @") === 0 ? _0x308f5e.text : "RT " + _0x785882 + " " + _0x308f5e.text;
    _0x4a5f50({
      showNewPostModal: true,
      newPostText: _0x3838b7.substring(0, 255)
    });
  };
  return _0x5b49d1.jsxs("div", {
    className: "twatter-post",
    children: [_0x5b49d1.jsxs("div", {
      className: "header",
      children: [_0x5b49d1.jsxs("h1", {
        children: [_0x785882, _0x308f5e.isBlue && _0x5b49d1.jsx(_0x593fe2, {
          placement: "left",
          title: "This citizen is subscribed to Twatter Blu",
          children: _0x5b49d1.jsxs("span", {
            className: "fa-layers fa-fw",
            children: [_0x5b49d1.jsx(_0x25cdf9, {
              icon: "certificate",
              color: "#2553BA",
              size: "lg"
            }), _0x5b49d1.jsx(_0x25cdf9, {
              icon: "check",
              color: "white",
              transform: "shrink-6"
            })]
          })
        })]
      }), _0x5b49d1.jsx("p", {
        children: _0x58f72d(_0x308f5e.timestamp)
      }), _0x5b49d1.jsx(SvgTwatIcon, {
        className: "logo"
      })]
    }), _0x5b49d1.jsxs("div", {
      className: "content",
      children: [_0x5b49d1.jsx("p", {
        children: _0x563e6f
      }), _0x109c9f && _0x109c9f.length > 0 && _0x5b49d1.jsx("button", {
        className: "event-btn",
        onClick: () => _0x15f6c0(_0x109c9f[0]),
        children: "Join Event"
      }), _0x283516.length > 0 && _0x5b49d1.jsx(_0xcb3226, {
        images: _0x283516
      })]
    }), _0x5b49d1.jsxs("div", {
      className: "actions",
      children: [_0x5b49d1.jsx("button", {
        className: "btn",
        onClick: _0x308993,
        children: _0x5b49d1.jsx(SvgReplyIcon, {})
      }), _0x5b49d1.jsx("button", {
        className: "btn",
        onClick: _0x376969,
        children: _0x5b49d1.jsx(SvgRetweetIcon, {})
      }), _0x5b49d1.jsx("button", {
        className: "btn",
        onClick: _0xafbd93,
        children: _0x5b49d1.jsx(SvgFlagIcon, {})
      }), _0x5b49d1.jsx("button", {
        className: "btn",
        children: _0x5b49d1.jsx(SvgShieldIcon, {})
      })]
    })]
  });
};
const index$2 = "";
const POST_LIMIT = 20;
const TwatterList = ({
  posts: _0x11e50c
}) => {
  const [_0x4a2f0a, _0x497cd0] = _0x56902a.useState(POST_LIMIT);
  return _0x5b49d1.jsxs("div", {
    className: "twats-list",
    children: [_0x11e50c.length > 0 && _0x11e50c.filter(_0x202080 => !isUserBlocked(_0x202080)).slice(0, _0x4a2f0a).map((_0x5df7e1, _0x1ecbc7) => _0x5b49d1.jsx(TwatterPost, {
      info: _0x5df7e1
    }, _0x1ecbc7)), _0x11e50c.length > _0x4a2f0a && _0x5b49d1.jsx("button", {
      className: "more-btn",
      onClick: () => _0x497cd0(_0xa1539d => _0xa1539d + POST_LIMIT),
      children: "Show More"
    })]
  });
};
const index$1 = "";
const TwatterNewPostModal = () => {
  const [_0x23ec7d, _0x19d657] = _0x56902a.useState("");
  const [_0x56099c, _0x5a456a] = _0x56902a.useState(false);
  const [_0x39a125, _0xb84ca] = _0x5809d1(_0x5811d4.key);
  const _0x10e47 = () => {
    _0xb84ca({
      showNewPostModal: false
    });
  };
  const _0x96d635 = _0x7a4598 => {
    _0xb84ca({
      newPostText: _0x7a4598.target.value
    });
  };
  const _0xc3d6f4 = async () => {
    _0x5a456a(true);
    const _0x54bf72 = await _0x46f12e("np-ui:twatSend", {
      text: _0x39a125.newPostText
    });
    if (!_0x54bf72.meta.ok) {
      return _0x19d657(_0x54bf72.meta.message);
    }
    _0xb84ca({
      showNewPostModal: false,
      newPostText: ""
    });
    _0x5a456a(false);
  };
  const _0x28bfd4 = {
    transform: "translateY(0%)"
  };
  const _0x570fa8 = {
    transform: "translateY(200%)"
  };
  return _0x5b49d1.jsx(_0x2115cf, {
    children: _0x39a125.showNewPostModal && _0x5b49d1.jsxs(_0x5afe5f.div, {
      className: "twatter-post-modal",
      initial: _0x570fa8,
      animate: _0x28bfd4,
      exit: _0x570fa8,
      children: [_0x5b49d1.jsx("h1", {
        children: "New Post"
      }), _0x23ec7d && _0x5b49d1.jsx("p", {
        className: "error",
        children: _0x23ec7d
      }), _0x56099c ? _0x5b49d1.jsx("div", {
        className: "loading-container",
        children: _0x5b49d1.jsx(_0x4a9ad2, {
          size: 60,
          style: {
            color: "#ffffff"
          }
        })
      }) : _0x5b49d1.jsxs(_0x5b49d1.Fragment, {
        children: [_0x5b49d1.jsx("textarea", {
          id: "twatter-post-content",
          spellCheck: "false",
          value: _0x39a125.newPostText,
          onChange: _0x96d635
        }), _0x5b49d1.jsxs("div", {
          className: "twatter-post-buttons",
          children: [_0x5b49d1.jsxs("button", {
            className: "btn add-btn",
            onClick: _0xc3d6f4,
            children: ["Post ", _0x5b49d1.jsx(_0x25cdf9, {
              icon: "fas fa-angle-right"
            })]
          }), _0x5b49d1.jsxs("button", {
            className: "btn cancel-btn",
            onClick: _0x10e47,
            children: ["Cancel ", _0x5b49d1.jsx(_0x25cdf9, {
              icon: "fas fa-times"
            })]
          })]
        })]
      })]
    })
  });
};
const index = "";
const TwatterApp = () => {
  const [_0x315552] = _0x5809d1(_0x5811d4.key);
  const [_0x16c4ae, _0x477224] = _0x56902a.useState("");
  const _0x4fe942 = _0x56902a.useMemo(() => {
    return _0x315552.posts.filter(_0xdc227f => {
      const _0x36bb01 = _0xdc227f.character.first_name + " " + _0xdc227f.character.last_name;
      const _0x108f85 = _0x36bb01.toLocaleLowerCase().includes(_0x16c4ae.toLocaleLowerCase());
      return _0x108f85;
    });
  }, [_0x16c4ae, _0x315552.posts]);
  return _0x5b49d1.jsxs("div", {
    className: "app twatter-app",
    children: [_0x5b49d1.jsx(TwatterNewPostModal, {}), _0x5b49d1.jsx(TwatterHeader, {}), _0x5b49d1.jsx(TwatterSearch, {
      value: _0x16c4ae,
      onChange: _0x3d6046 => _0x477224(_0x3d6046)
    }), _0x5b49d1.jsx(TwatterList, {
      posts: _0x4fe942
    })]
  });
};
const MAX_MESSAGE_NOTIFICATION = 40;
const events = _0xcaa9e3 => {
  _0xcaa9e3("twatter-receive", ({
    data: _0x547c2e,
    state: _0x3b9a67
  }) => {
    const _0x435e8b = _0x3b9a67[_0x5811d4.key]?.blockedUsers ?? [];
    const _0x203fcc = _0x435e8b.find(_0x3bcb85 => _0x3bcb85.id === Number(_0x547c2e.character.id));
    if (_0x547c2e.hasPhone && _0x479da7("twatter_notifications") && !_0x203fcc) {
      const _0x3194f4 = _0x547c2e.text.length > MAX_MESSAGE_NOTIFICATION ? _0x547c2e.text.slice(0, MAX_MESSAGE_NOTIFICATION) + "..." : _0x547c2e.text;
      _0x1501bf({
        apps: ["twatter"],
        icon: icon,
        state: _0x3b9a67,
        title: "@" + _0x547c2e.character.first_name + "_" + _0x547c2e.character.last_name,
        text: _0x3194f4
      });
    }
    const _0x1674db = {
      text: _0x547c2e.text,
      isBlue: _0x547c2e.isBlue,
      character: _0x547c2e.character,
      timestamp: new Date().toISOString()
    };
    const _0x39a6b7 = [..._0x3b9a67[_0x5811d4.key].posts];
    _0x39a6b7.unshift({
      ..._0x1674db
    });
    return {
      ..._0x3b9a67,
      [_0x5811d4.key]: {
        ..._0x3b9a67[_0x5811d4.key],
        posts: _0x39a6b7,
        hasBlue: _0x3b9a67[_0x5811d4.key].hasBlue,
        blockedUsers: _0x3b9a67[_0x5811d4.key].blockedUsers
      }
    };
  });
};
const icon = {
  background: "#00B0FF",
  color: "white",
  name: ["fab", "twitter"]
};
const config = _0x29ffe5 => {
  return {
    ..._0x29ffe5,
    events: () => events,
    iconPng: "https://assets.nopixel.net/dev/images/phone/icons/twatter.svg",
    init: async () => {
      const [_0x3cca62, _0x1ad417, _0x17c52d] = await Promise.all([getTwatterPosts(), getTwatterBluStatus(), getBlockedUsers()]);
      return {
        key: _0x5811d4.key,
        data: {
          ..._0x5811d4.initialState,
          posts: _0x3cca62,
          hasBlue: _0x1ad417,
          blockedUsers: _0x17c52d
        }
      };
    },
    label: "Twatter",
    name: "twatter",
    position: 25,
    render: () => _0x5b49d1.jsx(TwatterApp, {})
  };
};
export { config as default, icon };